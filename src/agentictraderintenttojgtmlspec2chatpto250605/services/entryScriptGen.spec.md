
# CampaignLauncher Service Specification

## 1. Purpose

The `CampaignLauncher` service is responsible for translating the "Processed Signal Package" (generated by the `JGTML Execution Core` service) into executable campaign scripts or API actions. These campaigns are designed to automate trade entry, place orders, or trigger alerts on specific trading platforms or through various execution APIs. It essentially materializes validated signals into actionable trading campaigns.

## 2. Inputs

*   **Processed Signal Package**:
    *   The primary input, containing detailed information about active trading signals and the overall decision from the Execution Core. This includes:
        *   `Decision` (ENTER/WAIT/EXIT)
        *   `signal_name`, `instrument`, `timeframe`, `action_type`.
        *   `entry_price_target`, `stop_loss_target`, `take_profit_target`.
        *   Any other relevant parameters like lot size, order type, etc.
*   **Target Platform Configuration**:
    *   Specifies the desired output format or target execution environment for the campaign. Examples:
        *   "MetaTrader 4 (MQL4 Script)"
        *   "MetaTrader 5 (MQL5 EA Integration)"
        *   "Python_Binance_API_Call"
        *   "Bash_Alert_Notification"
        *   "TradingView_Webhook_Payload"
    *   This might include platform-specific templates, API endpoint details, or library requirements.
*   **User/Account Configuration (Potentially, managed securely)**:
    *   Account ID for trading.
    *   Risk management parameters (e.g., default lot size, risk percentage per trade).
    *   API keys or authentication credentials *if* this service is intended to embed them directly or if it needs them to query account-specific information. Ideally, sensitive credentials are managed by the execution environment itself.
*   **Campaign Templates (Optional)**:
    *   Pre-defined code or configuration templates for different target platforms, which this service would populate with signal-specific data to form a campaign.

## 3. Processing Logic (High-Level)

1.  **Initialization**:
    *   Load the "Processed Signal Package."
    *   Identify the target platform(s) and campaign type from the configuration.
    *   Load any relevant campaign templates or platform-specific libraries/SDKs.

2.  **Evaluate Decision Node Output**:
    *   If the `Decision` from the signal package is "WAIT" or "EXIT" (and no specific exit script is required), the launcher might log this and not proceed with generating an entry campaign.
    *   If "ENTER", proceed to generate the entry campaign.

3.  **Iterate Through Active Signals (for "ENTER" decisions)**:
    *   For each active signal designated for entry:
        *   **Parameter Mapping**: Extract relevant parameters (instrument, action, price levels, quantity/lot size) from the signal.
        *   **Platform-Specific Translation**:
            *   Based on the target platform, map the generic signal parameters to the specific syntax, functions, API calls, and structure required by that platform's campaign execution mechanism.
            *   This involves generating the necessary code, configuration files, or API request payloads.
        *   **Risk Management Integration**:
            *   Calculate position size based on risk parameters and account information.
            *   Ensure generated orders/actions comply with defined risk limits.
        *   **Populate Template (if using templates)**: Fill in placeholders in the chosen campaign template.
        *   **Assemble Campaign**: Construct the final campaign script, configuration, or API call structure.

4.  **Campaign Packaging (Optional)**:
    *   If multiple signals contribute to a single campaign, or if a campaign involves multiple steps, package all components appropriately.
    *   This could involve creating a zip file, a directory structure, or a sequence of API calls.

## 4. Outputs

*   **Executable Campaigns / API Actions**:
    *   One or more files (e.g., `.mq4`, `.py`, `.sh`), configuration objects, or structured API requests.
    *   The content will be the platform-specific instructions to execute the trading campaign.
*   **Campaign Manifest/Log File**:
    *   A file detailing which campaigns were generated, for which signals, target platforms, and a summary of parameters.
*   **Status Report**:
    *   `status`: "Success", "Partial Success", "Failure", "NoActionRequired".
    *   `message`: Details on the outcome, including any errors encountered during campaign generation.

## 5. Key Considerations & Interactions

*   **Target Platform Expertise**: Requires in-depth knowledge of the scripting languages, APIs, and campaign management nuances of each supported trading platform.
*   **Security**: Critical handling of API keys and sensitive trading parameters.
*   **Modularity & Extensibility**: Design for easy addition of new target platforms/campaign types.
*   **Error Handling**: Must handle cases like unsupported signal types for a platform, missing configuration.
*   **Idempotency**: Important if campaigns involve placing orders to prevent duplicates.
*   **Testing**: Generated campaigns ideally need testing in simulated environments.
*   **Upstream Dependency**: Relies on the "Processed Signal Package" from the `JGTML Execution Core`.
*   **Downstream Interaction**: The generated campaigns are for execution in their target environments. Outcomes are fed into the `Echo Lattice`.
*   **Configuration Management**: Clear configuration for target platforms and campaign parameters.
